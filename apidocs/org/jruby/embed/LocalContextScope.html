<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Thu May 07 07:54:01 CDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>LocalContextScope (JRuby Core 1.7.20 API)</title>
<meta name="date" content="2015-05-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LocalContextScope (JRuby Core 1.7.20 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalContextScope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jruby/embed/IsolatedScriptingContainer.html" title="class in org.jruby.embed"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jruby/embed/LocalVariableBehavior.html" title="enum in org.jruby.embed"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jruby/embed/LocalContextScope.html" target="_top">Frames</a></li>
<li><a href="LocalContextScope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#enum_constant_summary">Enum Constants</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#enum_constant_detail">Enum Constants</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jruby.embed</div>
<h2 title="Enum LocalContextScope" class="title">Enum LocalContextScope</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang">java.lang.Enum</a>&lt;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.jruby.embed.LocalContextScope</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public enum <span class="strong">LocalContextScope</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang">Enum</a>&lt;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>&gt;</pre>
<div class="block">LocalContextState defines four scopes to maintain <a href="../../../org/jruby/embed/internal/LocalContext.html" title="class in org.jruby.embed.internal"><code>LocalContext</code></a>.

 <p>
 A single <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> can be configured to act as a facade for multiple <a href="../../../org/jruby/Ruby.html" title="class in org.jruby"><code>Ruby</code></a> runtimes
 (or really multiple Ruby VMs, since each <a href="../../../org/jruby/Ruby.html" title="class in org.jruby"><code>Ruby</code></a> instance is a Ruby "VM"), and this enum controls
 that behaviour. (this behaviour is bit like that of <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang"><code>ThreadLocal</code></a> &mdash; it changes its behaviour
 silently depending on the calling thread, an act of multiplexing.)

 <p>
 When you think of this multiplexing behaviour, there are two sets of states that need separate attention.
 One is <a href="../../../org/jruby/Ruby.html" title="class in org.jruby"><code>Ruby</code></a> instance, which represents the whole VM, classes, global variables, etc. Then
 there's <a href="../../../org/jruby/embed/ScriptingContainer.html#getAttributeMap()">attributes</a> and so-called
 <a href="../../../org/jruby/embed/ScriptingContainer.html#getVarMap()">variables</a>, which are really a special scope induced by the
 scripting container for better JSR-223 interop.
 In this documentation, we refer to the former as "the runtime" and the latter as "the variables",
 but the variables shouldn't be confused with the global variables in Ruby's semantics, which belongs
 to the runtime.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Yoko Harada <yokolet@gmail.com>, Kohsuke Kawaguchi</dd>
<dt><span class="strong">See Also:</span></dt><dd><code>https://github.com/jruby/jruby/wiki/RedBridge</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ENUM CONSTANT SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="enum_constant_summary">
<!--   -->
</a>
<h3>Enum Constant Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Constant Summary table, listing enum constants, and an explanation">
<caption><span>Enum Constants</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Enum Constant and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#CONCURRENT">CONCURRENT</a></strong></code>
<div class="block">Use a single runtime but variable maps are thread local.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#SINGLETHREAD">SINGLETHREAD</a></strong></code>
<div class="block"><a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> will not do any multiplexing at all.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#SINGLETON">SINGLETON</a></strong></code>
<div class="block">Uses a VM-wide singleton runtime and variables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#THREADSAFE">THREADSAFE</a></strong></code>
<div class="block">Maintain separate runtimes and variable maps for each calling thread.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#valueOf(java.lang.String)">valueOf</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Returns the enum constant of this type with the specified name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/jruby/embed/LocalContextScope.html#values()">values</a></strong>()</code>
<div class="block">Returns an array containing the constants of this enum type, in
the order they are declared.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Enum">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang">Enum</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#compareTo(E)" title="class or interface in java.lang">compareTo</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#getDeclaringClass()" title="class or interface in java.lang">getDeclaringClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#name()" title="class or interface in java.lang">name</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#ordinal()" title="class or interface in java.lang">ordinal</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html?is-external=true#valueOf(java.lang.Class,%20java.lang.String)" title="class or interface in java.lang">valueOf</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ENUM CONSTANT DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="enum_constant_detail">
<!--   -->
</a>
<h3>Enum Constant Detail</h3>
<a name="SINGLETON">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SINGLETON</h4>
<pre>public static final&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a> SINGLETON</pre>
<div class="block">Uses a VM-wide singleton runtime and variables.

 <p>
 All the <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a>s that are created with this scope will share a single
 runtime and a single set of variables. Therefore one container can
 <a href="../../../org/jruby/embed/ScriptingContainer.html#put(java.lang.String,%20java.lang.Object)"><code>set a value</code></a> and another container will see the same value.</div>
</li>
</ul>
<a name="SINGLETHREAD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SINGLETHREAD</h4>
<pre>public static final&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a> SINGLETHREAD</pre>
<div class="block"><a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> will not do any multiplexing at all.

 <p>
 <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> will get one runtime and one set of variables, and regardless of the calling
 thread it'll use this same pair.
 <p>
 If you have multiple threads calling single <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> instance,
 then you may need to take caution as a variable set by one thread will be visible to another thread.
 <p>
 If you aren't using the variables of <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a>, this is normally what you want.</div>
</li>
</ul>
<a name="THREADSAFE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>THREADSAFE</h4>
<pre>public static final&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a> THREADSAFE</pre>
<div class="block">Maintain separate runtimes and variable maps for each calling thread.

 <p>
 Known as the "apartment thread model", this mode makes <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a> lazily
 creates a runtime and a variable map separately for each calling thread. Therefore, despite
 the fact that multiple threads call on the same object, they are completely isolated from each other.
 (the flip side of the coin is that no ruby objects can be shared between threads as they belong
 to different "ruby VM".)</div>
</li>
</ul>
<a name="CONCURRENT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONCURRENT</h4>
<pre>public static final&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a> CONCURRENT</pre>
<div class="block">Use a single runtime but variable maps are thread local.

 <p>
 In this mode, there'll be a single runtime dedicated for each <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a>,
 but a separate map of variables are created for each calling thread through <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang"><code>ThreadLocal</code></a>.

 In a situation where you have multiple threads calling one <a href="../../../org/jruby/embed/ScriptingContainer.html" title="class in org.jruby.embed"><code>ScriptingContainer</code></a>, this means
 ruby code will see multiple threads calling them, and therefore they need to be thread safe.
 But because variables are thread local, if your program does something like (1) set a few variables,
 (2) evaluate a script that refers to those variables, then you won't have to worry about values from
 multiple threads mixing with each other.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="values()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>values</h4>
<pre>public static&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>[]&nbsp;values()</pre>
<div class="block">Returns an array containing the constants of this enum type, in
the order they are declared.  This method may be used to iterate
over the constants as follows:
<pre>
for (LocalContextScope c : LocalContextScope.values())
&nbsp;   System.out.println(c);
</pre></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>an array containing the constants of this enum type, in the order they are declared</dd></dl>
</li>
</ul>
<a name="valueOf(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>valueOf</h4>
<pre>public static&nbsp;<a href="../../../org/jruby/embed/LocalContextScope.html" title="enum in org.jruby.embed">LocalContextScope</a>&nbsp;valueOf(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Returns the enum constant of this type with the specified name.
The string must match <i>exactly</i> an identifier used to declare an
enum constant in this type.  (Extraneous whitespace characters are 
not permitted.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - the name of the enum constant to be returned.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the enum constant with the specified name</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if this enum type has no constant with the specified name</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the argument is null</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LocalContextScope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jruby/embed/IsolatedScriptingContainer.html" title="class in org.jruby.embed"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jruby/embed/LocalVariableBehavior.html" title="enum in org.jruby.embed"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jruby/embed/LocalContextScope.html" target="_top">Frames</a></li>
<li><a href="LocalContextScope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#enum_constant_summary">Enum Constants</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#enum_constant_detail">Enum Constants</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2015 <a href="http://jruby.org">JRuby</a>. All rights reserved.</small></p>
</body>
</html>
