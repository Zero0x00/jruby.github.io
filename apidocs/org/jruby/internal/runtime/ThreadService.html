<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Thu May 07 07:54:10 CDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ThreadService (JRuby Core 1.7.20 API)</title>
<meta name="date" content="2015-05-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ThreadService (JRuby Core 1.7.20 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ThreadService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jruby/internal/runtime/ThreadLike.html" title="interface in org.jruby.internal.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jruby/internal/runtime/ThreadService.Event.html" title="class in org.jruby.internal.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jruby/internal/runtime/ThreadService.html" target="_top">Frames</a></li>
<li><a href="ThreadService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jruby.internal.runtime</div>
<h2 title="Class ThreadService" class="title">Class ThreadService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jruby.internal.runtime.ThreadService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ThreadService</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">ThreadService maintains lists ofall the JRuby-specific thread data structures
 needed for Ruby's threading API and for JRuby's execution. The main
 structures are:

 <ul>
 <li>ThreadContext, which contains frames, scopes, etc needed for Ruby execution</li>
 <li>RubyThread, the Ruby object representation of a thread's state</li>
 <li>RubyThreadGroup, which represents a group of Ruby threads</li>
 <li>NativeThread, used to wrap native Java threads</li>
 <li>FutureThread, used to wrap java.util.concurrent.Future</li>
 </ul>

 In order to ensure these structures do not linger after the thread has terminated,
 most of them are either weakly or softly referenced. The references associated
 with these structures are:

 <ul>
 <li>ThreadService has a hard reference to a ThreadLocal, which holds a soft reference
 to a ThreadContext. So the thread's locals softly reference ThreadContext.
 We use a soft reference to keep ThreadContext instances from going away too
 quickly when a Java thread leaves Ruby space completely, which would otherwise
 result in a lot of ThreadContext object churn.</li>
 <li>ThreadService maintains a weak map from the actual java.lang.Thread (or
 java.util.concurrent.Future) instance to the associated RubyThread. The map
 is weak-keyyed, so it will not prevent the collection of the associated
 Thread or Future. The associated RubyThread will remain alive as long as the
 Thread/Future and this ThreadService instance are both alive, maintaining
 the external thread's identity in Ruby-land.</li>
 <li>RubyThread has a weak reference to its to ThreadContext.</li>
 <li>ThreadContext has a hard reference to its associated RubyThread. Ignoring other
 references, this will usually mean RubyThread is softly reachable via the
 soft threadlocal reference to ThreadContext in ThreadService.</li>
 <li>RubyThreadGroup has hard references to threads it owns. The thread removes
 itself on termination (if it's a Ruby thread) or when the ThreadContext is
 collected (as in the case of "adopted" Java threads.</li>
 </ul>

 These data structures can come to life in one of two ways:

 <ul>
 <li>A Ruby thread is started. This constructs a new RubyThread object, which
 calls to ThreadService to initialize a ThreadContext and appropriate mappings
 in all ThreadService's structures. The body of the thread is wrapped with a
 finally block that will forcibly unregister the thread and all related
 structures from ThreadService.</li>
 <li>A Java thread enters Ruby by doing a call. The thread is "adopted", and
 gains a RubyThread instance, a ThreadContext instance, and all associated
 mappings in ThreadService. Since we don't know when the thread has "left"
 Ruby permanently, no forcible unregistration is attempted for the various
 structures and maps. However, they should not be hard-rooted; the
 ThreadContext is only softly reachable at best if no calls are in-flight,
 so it will collect. Its collection will release the reference to RubyThread,
 and its finalizer will unregister that RubyThread from its RubyThreadGroup.
 With the RubyThread gone, the Thread-to-RubyThread map will eventually clear,
 releasing the hard reference to the Thread itself.</li>
 <ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.Event.html" title="class in org.jruby.internal.runtime">ThreadService.Event</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#ThreadService(org.jruby.Ruby)">ThreadService</a></strong>(<a href="../../../../org/jruby/Ruby.html" title="class in org.jruby">Ruby</a>&nbsp;runtime)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#associateThread(java.lang.Object,%20org.jruby.RubyThread)">associateThread</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;threadOrFuture,
               <a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;rubyThread)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#deliverEvent(org.jruby.internal.runtime.ThreadService.Event)">deliverEvent</a></strong>(<a href="../../../../org/jruby/internal/runtime/ThreadService.Event.html" title="class in org.jruby.internal.runtime">ThreadService.Event</a>&nbsp;event)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#disposeCurrentThread()">disposeCurrentThread</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#dissociateThread(java.lang.Object)">dissociateThread</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;threadOrFuture)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getActiveRubyThreads()">getActiveRubyThreads</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getCritical()">getCritical</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getCurrentContext()">getCurrentContext</a></strong>()</code>
<div class="block">In order to provide an appropriate execution context for a given thread,
 we store ThreadContext instances in a threadlocal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getMainThread()">getMainThread</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getRubyThreadGroup()">getRubyThreadGroup</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getRubyThreadMap()">getRubyThreadMap</a></strong>()</code>
<div class="block">Get the map from threadlike objects to RubyThread instances.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#getThreadContextForThread(org.jruby.RubyThread)">getThreadContextForThread</a></strong>(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#initMainThread()">initMainThread</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#registerNewThread(org.jruby.RubyThread)">registerNewThread</a></strong>(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#setCritical(boolean)">setCritical</a></strong>(boolean&nbsp;critical)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#setCurrentContext(org.jruby.runtime.ThreadContext)">setCurrentContext</a></strong>(<a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a>&nbsp;context)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#setMainThread(java.lang.Thread,%20org.jruby.RubyThread)">setMainThread</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&nbsp;thread,
             <a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;rubyThread)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jruby/internal/runtime/ThreadService.html#unregisterThread(org.jruby.RubyThread)">unregisterThread</a></strong>(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ThreadService(org.jruby.Ruby)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ThreadService</h4>
<pre>public&nbsp;ThreadService(<a href="../../../../org/jruby/Ruby.html" title="class in org.jruby">Ruby</a>&nbsp;runtime)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="disposeCurrentThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disposeCurrentThread</h4>
<pre>public&nbsp;void&nbsp;disposeCurrentThread()</pre>
</li>
</ul>
<a name="initMainThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMainThread</h4>
<pre>public&nbsp;void&nbsp;initMainThread()</pre>
</li>
</ul>
<a name="getCurrentContext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentContext</h4>
<pre>public&nbsp;<a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a>&nbsp;getCurrentContext()</pre>
<div class="block">In order to provide an appropriate execution context for a given thread,
 we store ThreadContext instances in a threadlocal. This method is a utility
 to get at that threadlocal context from anywhere in the program it may
 not be immediately available. This method should be used sparingly, and
 if it is possible to pass ThreadContext on the argument list, it is
 preferable.
 
 <b>Description of behavior</b>
 
 The threadlocal does not actually contain the ThreadContext directly;
 instead, it contains a SoftReference that holds the ThreadContext. This
 is to allow new threads to enter the system and execute Ruby code with
 a valid context, but still allow that context to garbage collect if the
 thread stays alive much longer. We use SoftReference here because
 WeakReference is collected too quickly, resulting in very expensive
 ThreadContext churn (and this originally lead to JRUBY-2261's leak of
 adopted RubyThread instances).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The ThreadContext instance for the current thread, or a new one
 if none has previously been created or the old ThreadContext has been
 collected.</dd></dl>
</li>
</ul>
<a name="setCurrentContext(org.jruby.runtime.ThreadContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentContext</h4>
<pre>public&nbsp;void&nbsp;setCurrentContext(<a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a>&nbsp;context)</pre>
</li>
</ul>
<a name="getMainThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMainThread</h4>
<pre>public&nbsp;<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;getMainThread()</pre>
</li>
</ul>
<a name="setMainThread(java.lang.Thread, org.jruby.RubyThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMainThread</h4>
<pre>public&nbsp;void&nbsp;setMainThread(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&nbsp;thread,
                 <a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;rubyThread)</pre>
</li>
</ul>
<a name="getActiveRubyThreads()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveRubyThreads</h4>
<pre>public&nbsp;<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>[]&nbsp;getActiveRubyThreads()</pre>
</li>
</ul>
<a name="getRubyThreadGroup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRubyThreadGroup</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a>&nbsp;getRubyThreadGroup()</pre>
</li>
</ul>
<a name="getThreadContextForThread(org.jruby.RubyThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThreadContextForThread</h4>
<pre>public&nbsp;<a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a>&nbsp;getThreadContextForThread(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</pre>
</li>
</ul>
<a name="registerNewThread(org.jruby.RubyThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerNewThread</h4>
<pre>public&nbsp;<a href="../../../../org/jruby/runtime/ThreadContext.html" title="class in org.jruby.runtime">ThreadContext</a>&nbsp;registerNewThread(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</pre>
</li>
</ul>
<a name="associateThread(java.lang.Object, org.jruby.RubyThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>associateThread</h4>
<pre>public&nbsp;void&nbsp;associateThread(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;threadOrFuture,
                   <a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;rubyThread)</pre>
</li>
</ul>
<a name="dissociateThread(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dissociateThread</h4>
<pre>public&nbsp;void&nbsp;dissociateThread(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;threadOrFuture)</pre>
</li>
</ul>
<a name="unregisterThread(org.jruby.RubyThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterThread</h4>
<pre>public&nbsp;void&nbsp;unregisterThread(<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&nbsp;thread)</pre>
</li>
</ul>
<a name="setCritical(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCritical</h4>
<pre>public&nbsp;void&nbsp;setCritical(boolean&nbsp;critical)</pre>
</li>
</ul>
<a name="getCritical()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCritical</h4>
<pre>public&nbsp;boolean&nbsp;getCritical()</pre>
</li>
</ul>
<a name="deliverEvent(org.jruby.internal.runtime.ThreadService.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverEvent</h4>
<pre>public&nbsp;void&nbsp;deliverEvent(<a href="../../../../org/jruby/internal/runtime/ThreadService.Event.html" title="class in org.jruby.internal.runtime">ThreadService.Event</a>&nbsp;event)</pre>
</li>
</ul>
<a name="getRubyThreadMap()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRubyThreadMap</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../org/jruby/RubyThread.html" title="class in org.jruby">RubyThread</a>&gt;&nbsp;getRubyThreadMap()</pre>
<div class="block">Get the map from threadlike objects to RubyThread instances. Used mainly
 for testing purposes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The ruby thread map</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ThreadService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jruby/internal/runtime/ThreadLike.html" title="interface in org.jruby.internal.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jruby/internal/runtime/ThreadService.Event.html" title="class in org.jruby.internal.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jruby/internal/runtime/ThreadService.html" target="_top">Frames</a></li>
<li><a href="ThreadService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2015 <a href="http://jruby.org">JRuby</a>. All rights reserved.</small></p>
</body>
</html>
